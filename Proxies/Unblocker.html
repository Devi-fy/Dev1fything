<body class="fade-in">
  <title>Unblocker</title>
    <iframe
      id="iframer"
      src="about:blank"
      allowfullscreen="true"
      width="100%"
      height="100%">Loadingâ€¦
  </iframe>
</body>

<style>
  html 
{
 overflow: auto;
}
 
html, body, div, iframe 
{
 margin: 0px; 
 padding: 0px; 
 height: 100%; 
 border: none;
}
  iframe 
{
 display: block; 
 width: 100%; 
 border: none; 
 overflow-y: auto; 
 overflow-x: hidden;
}
</style>

<script>
  const validChars =
	"!#$%&'*+-.0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ^_`abcdefghijklmnopqrstuvwxyz|~";
const reserveChar = '%';

function validProtocol(protocol: string) {
	for (let i = 0; i < protocol.length; i++) {
		const char = protocol[i];

		if (!validChars.includes(char)) {
			return false;
		}
	}

	return true;
}

function encodeProtocol(protocol: string) {
	let result = '';

	for (let i = 0; i < protocol.length; i++) {
		const char = protocol[i];

		if (validChars.includes(char) && char !== reserveChar) {
			result += char;
		} else {
			const code = char.charCodeAt(0);
			result += reserveChar + code.toString(16).padStart(2, '0');
		}
	}

	return result;
}

function decodeProtocol(protocol: string) {
	let result = '';

	for (let i = 0; i < protocol.length; i++) {
		const char = protocol[i];

		if (char === reserveChar) {
			const code = parseInt(protocol.slice(i + 1, i + 3), 16);
			const decoded = String.fromCharCode(code);

			result += decoded;
			i += 2;
		} else {
			result += char;
		}
	}

	return result;
}

  function start() {
    url = prompt("What url do you want to visit? \nexample: https://google.com/", "https://google.com/");
    url2 = "https://cyber-nostalgic-waste.glitch.me";
    encoded = encodeProtocol(url)
    done = ""
    done = url2.concat("/uv/service/").concat(encoded);
    document.getElementById('iframer').src = done;
  };

  start()
</script>